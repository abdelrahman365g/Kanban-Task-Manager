<div class="column bg-white p-3 rounded-4 shadow-sm d-flex flex-column h-100">
  <div class="d-flex align-items-center gap-3 mb-4">
    <div [class]="'icon-box icon-' + columnStatus + '-bg'">
      <i
        [class]="'fa-solid icon-' + columnStatus"
        [ngClass]="{
          'fa-clipboard-list': columnStatus == 'todo',
          'fa-spinner': columnStatus == 'in-progress',
          'fa-circle-check': columnStatus == 'completed',
        }"
      ></i>
    </div>
    <div class="flex-fill">
      <h2 class="fs-5 fw-semibold mb-0">{{ columnName.toUpperCase() }}</h2>
      <p class="small text-muted mb-0">
        {{ columnTasks.length }}
        {{ columnTasks.length == 1 ? "Task" : "Tasks" }}
      </p>
    </div>
  </div>

  <div class="d-flex flex-column gap-3">
    @for (task of columnTasks; track $index) {
      <app-task-card
        [task]="task"
        (move)="onMove(task.id, $event)"
        (edit)="editTask.emit($event)"
        (delete)="deleteTask.emit($event)"
      ></app-task-card>
    } @empty {
      <div class="text-center text-muted py-5">
        <i class="fa-solid fa-folder-open fs-2 mb-2 opacity-50"></i>
        <p class="mb-0">No tasks yet</p>
        <p>Click + to add one</p>
      </div>
    }
  </div>
</div>
